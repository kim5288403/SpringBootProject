<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<th:block layout:fragment="head">
<style>
	.fieldError {
		color: #bd2130;
	}
</style>
</th:block>
<th:block layout:fragment="content">
	<section>
		<form th:action="@{/member/join}" action="#" role="form" method="post"
			enctype="multipart/form-data" th:object="${memberDto}">
			<input type="hidden" th:name="${_csrf.parameterName}"
				th:value="${_csrf.token}">

			<div class="row gtr-uniform">
				<div class="col-6 col-12-xsmall">
					<label th:for="name">이름</label> <input type="text" name="name"
						id="name" th:field="*{name}" class="form-control"
						placeholder="이름을 입력해주세요">
					<p th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
						class="fieldError">Incorrect data</p>
				</div>

				<div class="col-6 col-12-xsmall">
					<label th:for="email">이메일주소</label> <input type="email"
						th:field="*{email}" class="form-control" placeholder="이메일을 입력해주세요">
					<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
						class="fieldError">Incorrect data</p>
				</div>

				<div class="col-6 col-12-xsmall">
					<label th:for="password">비밀번호</label> <input type="password"
						th:field="*{password}" class="form-control" placeholder="비밀번호 입력">
					<p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
						class="fieldError">Incorrect data</p>
				</div>

				<div class="col-6 col-12-xsmall">
					<label th:for="address">주소</label> <input type="text"
						th:field="*{address}" class="form-control"
						placeholder="주소를 입력해주세요">
					<p th:if="${#fields.hasErrors('address')}" th:errors="*{address}"
						class="fieldError">Incorrect data</p>
				</div>

				<div class="col-6 col-12-xsmall">
					<label th:for="gender">성별</label> 
					
					<input type="radio" th:field="*{gender}" id="demo-priority-mail" name="demo-priority" value="남"> 
					<label for="demo-priority-mail">남</label>
					
					<input type="radio" th:field="*{gender}" id="demo-priority-femail" name="demo-priority" value="여">
					<label for="demo-priority-femail">여</label>
				</div>

				<div style="text-align: center" class="col-12 col-12-xsmall">
					<button type="submit" class="button primary fit">join</button>
					<button type="button" class="button fit" onclick="history.back();">Cancel</button>
				</div>

			</div>

		</form>
	</section>
	
</th:block>

<th:block layout:fragment="script">
	<script th:inline="javascript">
	 $(document).ready(function(){
         var errorMessage = [[${errorMessage}]];
         if(errorMessage != null){
             alert(errorMessage);
         }
         
         $("#demo-priority-mail").attr("checked", true);
     });
	</script>
</th:block>
